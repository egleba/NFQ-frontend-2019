{"version":3,"sources":["specialist.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","list","buttonSpecialist","document","querySelectorAll","specialistInfo","querySelector","filteredBySpecialist","doneButtons","localStorage","JSON","parse","getItem","number","onclick","innerHTML","forEach","element","classList","remove","this","add","renderHTML","filter","clients","specialistAssigned","name","status","stuff","_loop","k","ul","createElement","li","button","appendChild","push","console","log","j","addEventListener","that","timeServiced","startTime","Date","endTime","timeDiff","seconds","Math","round","setItem","stringify","statusDone","statusServiced","parentNode","shift"],"mappings":"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","file":"specialist.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\n// -------- variables -------- //\nvar list;\nvar clientNumber;\nvar filteredList;\nvar buttonSpecialist = document.querySelectorAll(\".button--specialist\");\nvar specialistInfo = document.querySelector(\".specialist__info\");\nvar filteredBySpecialist = document.querySelector(\".filtered-by-specialist\");\nvar doneButtons = [];\ncheckForLocalStorage(); // -------- check if there is a client list in localStorage -------- //\n\nfunction checkForLocalStorage() {\n  if (localStorage.list) {\n    list = JSON.parse(localStorage.getItem('list'));\n    clientNumber = list[list.length - 1].number + 1;\n  }\n}\n\n; // -------- change client status to \"done\" -------- //\n\nfor (var i = 0; i < buttonSpecialist.length; i++) {\n  (function (i) {\n    buttonSpecialist[i].onclick = function () {\n      specialistInfo.innerHTML = \"\";\n      buttonSpecialist.forEach(function (element) {\n        element.classList.remove(\"button--active\");\n      });\n      this.classList.add(\"button--active\");\n      clearOtherSpecialists();\n\n      if (localStorage.list) {\n        filteredList = list.filter(function (clients) {\n          return clients.specialistAssigned == buttonSpecialist[i].name;\n        });\n        filteredList = filteredList.filter(function (clients) {\n          return clients.status != \"done\";\n        });\n        renderHTML(filteredList);\n        specialistInfo.classList.add(\"hidden\");\n\n        if (filteredBySpecialist.innerHTML.length == 0) {\n          specialistInfo.classList.remove(\"hidden\");\n          specialistInfo.innerHTML = \"Lankytojų eilėje nėra.\";\n        }\n      } else {\n        specialistInfo.classList.remove(\"hidden\");\n        specialistInfo.innerHTML = \"Lankytojų eilėje nėra.\";\n      }\n    };\n  })(i);\n} // -------- display client list -------- //\n\n\nfunction renderHTML(stuff) {\n  doneButtons = [];\n\n  var _loop = function _loop(k) {\n    var ul = document.createElement(\"ul\");\n    var li = document.createElement(\"li\");\n    var button = document.createElement(\"button\");\n    ul.classList.add(\"filtered-by-specialist__item\");\n    li.classList.add(\"filtered-by-specialist__number\");\n    button.classList.add(\"button\");\n    button.classList.add(\"button--filtered-by-specialist\");\n    button.classList.add(\"hidden\");\n    filteredBySpecialist.appendChild(ul);\n    li.innerHTML = stuff[k].number;\n    ul.appendChild(li);\n    ul.appendChild(button);\n    doneButtons.push(button);\n    console.log(doneButtons);\n\n    for (var j = 0; j < doneButtons.length; j++) {\n      doneButtons[0].classList.remove(\"hidden\");\n    }\n\n    button.addEventListener(\"click\", function () {\n      statusDone(stuff[k]);\n\n      if (stuff[k + 1]) {\n        statusServiced(stuff[k + 1]);\n        var startTime = new Date();\n        stuff[k + 1].timeServiced = startTime;\n        console.log(startTime);\n        localStorage.setItem('list', JSON.stringify(list));\n      }\n\n      this.parentNode.remove(this);\n      doneButtons.shift(doneButtons[0]);\n\n      if (doneButtons.length > 0) {\n        doneButtons[0].classList.remove(\"hidden\");\n      }\n\n      if (filteredBySpecialist.innerHTML.length === 0) {\n        specialistInfo.innerHTML = \"Lankytojų eilėje nėra.\";\n        specialistInfo.classList.remove(\"hidden\");\n      }\n    });\n  };\n\n  for (var k = 0; k < stuff.length; k++) {\n    _loop(k);\n  }\n}\n\n; // -------- clear client lists -------- //\n\nfunction clearOtherSpecialists() {\n  filteredBySpecialist.innerHTML = '';\n}\n\n; // -------- update client list from localStorage -------- //\n\nfunction getList() {\n  list = JSON.parse(localStorage.getItem('list'));\n  clientNumber = list[list.length - 1].number + 1;\n}\n\n; // -------- set status \"done\" -------- //\n\nfunction statusDone(that) {\n  that.status = \"done\";\n\n  if (that.timeServiced != 0) {\n    var startTime = Date.parse(that.timeServiced);\n    console.log(startTime);\n    var endTime = new Date();\n    console.log(endTime);\n    var timeDiff = endTime - startTime;\n    timeDiff /= 1000;\n    var seconds = Math.round(timeDiff);\n    console.log(seconds + \" seconds\");\n    that.timeServiced = seconds;\n  }\n\n  localStorage.setItem('list', JSON.stringify(list));\n}\n\n; // -------- set status \"serviced\" -------- //\n\nfunction statusServiced(that) {\n  that.status = \"serviced\";\n}\n\n;\n\n},{}]},{},[1]);\n"]}